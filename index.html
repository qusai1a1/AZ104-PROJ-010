<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AZ104-PROJ-01 | Architect Dashboard</title>
    <style>
        :root {
            --primary: #0078d4;
            --bg: #f3f2f1;
            --card: #ffffff;
            --text: #323130;
            --ac-bg: #f8f9fa;
            --done: #107c10;
            --progress-bg: #c7e0f4;
            --upcoming-bg: #edebe9;
        }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); color: var(--text); padding: 40px; }
        .container { max-width: 1000px; margin: auto; }
        
        /* Progress Header */
        .header { display: flex; justify-content: space-between; align-items: flex-end; border-bottom: 3px solid var(--primary); padding-bottom: 10px; margin-bottom: 20px; }
        .progress-wrapper { background: #edebe9; border-radius: 10px; height: 25px; width: 100%; margin-bottom: 40px; overflow: hidden; box-shadow: inset 0 2px 4px rgba(0,0,0,0.1); }
        #progress-bar { background: var(--done); height: 100%; width: 0%; transition: width 0.4s ease-in-out; }
        
        /* Epic Container */
        .epic { background: var(--card); border-radius: 8px; padding: 25px; margin-bottom: 30px; box-shadow: 0 4px 12px rgba(0,0,0,0.08); transition: border 0.3s; }
        .epic-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .epic-title { color: var(--primary); font-size: 1.4em; font-weight: bold; text-transform: uppercase; margin: 0; }
        
        /* Stories & Tasks */
        .story { margin-left: 20px; margin-bottom: 25px; padding-left: 20px; border-left: 2px solid #deecf9; }
        .story-title { font-weight: 700; font-size: 1.1em; color: #004578; display: block; margin-bottom: 10px; }
        .task-list { list-style: none; padding: 0; }
        .task-item { margin-bottom: 10px; display: flex; align-items: center; cursor: pointer; }
        input[type="checkbox"] { width: 18px; height: 18px; margin-right: 12px; cursor: pointer; }
        
        /* Acceptance Criteria */
        .ac-box { background: var(--ac-bg); border: 1px dashed #c8c6c4; padding: 12px; border-radius: 4px; margin-top: 10px; }
        .ac-title { font-size: 0.75em; font-weight: bold; color: #605e5c; text-transform: uppercase; margin-bottom: 5px; display: block; }
        .ac-list { margin: 0; padding-left: 18px; font-size: 0.85em; }

        /* Status Badges */
        .badge { font-size: 0.75em; padding: 6px 14px; border-radius: 20px; font-weight: bold; text-transform: uppercase; transition: all 0.3s; }
        .upcoming { background: #f3f2f1; color: #605e5c; border: 1px solid #c8c6c4; }
        .in-progress { background: #c7e0f4; color: #005a9e; border: 1px solid #005a9e; }
        .completed { background: #dff6dd; color: #107c10; border: 1px solid #107c10; }
    </style>
</head>
<body>

<div class="container">
    <div class="header">
        <h1>AZ104-PROJ-01: Deployment Tracker</h1>
        <div style="font-weight: bold;">Global Progress: <span id="percent">0%</span></div>
    </div>
    <div class="progress-wrapper">
        <div id="progress-bar"></div>
    </div>

    <div class="epic" id="epic-1">
        <div class="epic-header">
            <h2 class="epic-title">Phase 1: Planning & Design</h2>
            <span class="badge upcoming" id="badge-1">Upcoming</span>
        </div>
        <div class="story">
            <span class="story-title">Story 01: Architectural Blueprinting</span>
            <ul class="task-list">
                <li class="task-item"><input type="checkbox" class="task-check"> Task 1: Define Naming Conventions</li>
                <li class="task-item"><input type="checkbox" class="task-check"> Task 2: Create IP Address Schema</li>
                <li class="task-item"><input type="checkbox" class="task-check"> Task 3: Setup Jira/Epic Hierarchy</li>
            </ul>
            <div class="ac-box">
                <span class="ac-title">Acceptance Criteria</span>
                <ul class="ac-list">
                    <li>Naming convention applied to all resources.</li>
                    <li>No IP overlaps in VNet/Subnet design.</li>
                </ul>
            </div>
        </div>
    </div>

    <div class="epic" id="epic-2">
        <div class="epic-header">
            <h2 class="epic-title">Phase 2: Core Infrastructure</h2>
            <span class="badge upcoming" id="badge-2">Upcoming</span>
        </div>
        <div class="story">
            <span class="story-title">Story 02: Network Deployment</span>
            <ul class="task-list">
                <li class="task-item"><input type="checkbox" class="task-check"> Task 1: Provision Resource Group</li>
                <li class="task-item"><input type="checkbox" class="task-check"> Task 2: Create VNet in France Central</li>
                <li class="task-item"><input type="checkbox" class="task-check"> Task 3: Segment Subnets</li>
            </ul>
            <div class="ac-box">
                <span class="ac-title">Acceptance Criteria</span>
                <ul class="ac-list">
                    <li>Subnets visible and correctly partitioned.</li>
                </ul>
            </div>
        </div>
    </div>

    <div class="epic" id="epic-3">
        <div class="epic-header">
            <h2 class="epic-title">Phase 3: Compute & Security</h2>
            <span class="badge upcoming" id="badge-3">Upcoming</span>
        </div>
        <div class="story">
            <span class="story-title">Story 03: Web Tier VM Implementation</span>
            <ul class="task-list">
                <li class="task-item"><input type="checkbox" class="task-check"> Task 1: Provision VM (Windows Server 2022)</li>
                <li class="task-item"><input type="checkbox" class="task-check"> Task 2: Set Compute Size (B1s)</li>
                <li class="task-item"><input type="checkbox" class="task-check"> Task 3: Enable Auto-Shutdown (18:00)</li>
            </ul>
        </div>
        <div class="story">
            <span class="story-title">Story 04: Perimeter Security (NSG)</span>
            <ul class="task-list">
                <li class="task-item"><input type="checkbox" class="task-check"> Task 1: Create NSG</li>
                <li class="task-item"><input type="checkbox" class="task-check"> Task 2: Associate NSG to Web Subnet</li>
            </ul>
            <div class="ac-box">
                <span class="ac-title">Acceptance Criteria</span>
                <ul class="ac-list">
                    <li>VM has private IP; RDP restricted via NSG.</li>
                </ul>
            </div>
        </div>
    </div>

    <div class="epic" id="epic-4">
        <div class="epic-header">
            <h2 class="epic-title">Phase 4: Storage & Data</h2>
            <span class="badge upcoming" id="badge-4">Upcoming</span>
        </div>
        <div class="story">
            <span class="story-title">Story 05: Data Disk & Storage Accounts</span>
            <ul class="task-list">
                <li class="task-item"><input type="checkbox" class="task-check"> Task 1: Attach 32GB Data Disk</li>
                <li class="task-item"><input type="checkbox" class="task-check"> Task 2: Map Azure File Share</li>
            </ul>
        </div>
    </div>

</div>

<script>
    const epics = document.querySelectorAll('.epic');
    const globalProgressBar = document.getElementById('progress-bar');
    const globalPercentText = document.getElementById('percent');

    function updateDashboard() {
        let totalTasks = document.querySelectorAll('.task-check').length;
        let totalChecked = document.querySelectorAll('.task-check:checked').length;
        
        // Update Global Progress
        let globalResult = Math.round((totalChecked / totalTasks) * 100);
        globalProgressBar.style.width = globalResult + "%";
        globalPercentText.innerText = globalResult + "%";

        // Update individual Epic Status Badges
        epics.forEach((epic, index) => {
            const checks = epic.querySelectorAll('.task-check');
            const checkedCount = epic.querySelectorAll('.task-check:checked').length;
            const badge = document.getElementById(`badge-${index + 1}`);

            if (checkedCount === 0) {
                badge.innerText = "Upcoming";
                badge.className = "badge upcoming";
            } else if (checkedCount > 0 && checkedCount < checks.length) {
                badge.innerText = "In Progress";
                badge.className = "badge in-progress";
            } else if (checkedCount === checks.length) {
                badge.innerText = "Completed";
                badge.className = "badge completed";
            }
        });
    }

    // Event listeners
    document.querySelectorAll('.task-check').forEach(box => {
        box.addEventListener('change', updateDashboard);
    });

    // Run once on load
    updateDashboard();
</script>

</body>
</html>
